version: "3"
services:
  operator:
    image: ccarcaci/nodemon:alpine
    command: nodemon --inspect=0.0.0.0 ledger/src/index.js
    volumes: 
      - ../ledger:/ledger
    environment:
      REF_NODE_URL: http://tracker:3000/track
      LOG_LEVEL: debug
    depends_on:
      - tracker
    ports:
      - 3000
      - 4443
      - 9229
  tracker:
    image: ccarcaci/nodemon:alpine
    command: nodemon --inspect=0.0.0.0 tracker/index.js
    volumes:
      - ../tracker:/tracker
    ports:
      - 4242:3000
      - 4243:4443
      - 4229:9229
